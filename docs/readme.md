# Основные требования

- Поддержка команд `cat`, `echo`, `wc`, `pwd`, `exit`.
- Реализация оператора подстановки переменных окружения `$`.
- Поддержка пайплайнов и цитирования (одинарные и двойные кавычки).
- Возможность вызова внешних программ.

## Подводные камни:

- Управление окружением. Нужно предусмотреть хранение и подстановку переменных среды, следить за правильной
  интерпретацией кавычек и символов `$`.
- Обработка ошибок и поддержка внешних программ через процессы.
- Поддержка пайплайнов (комбинация нескольких команд через `|`), чтобы корректно передавать вывод одной команды в
  качестве ввода другой.

# Определение подсистем

Декомпозируем систему на несколько подсистем:

## 1. Парсер командной строки

- Разбор пользовательского ввода, разделение аргументов, интерпретация кавычек, а также корректная
  работа с переменными окружения.
- Обработка пайпалайнов и разделение команд.
- Методы:
  - `parseCommand(String input): Command`
  - `parsePipeline(String input): List<Command>`

## Команды

- Для каждой команды `cat`, `echo`, `wc`, `pwd`, `exit` – отдельные классы или один общий
  интерфейс `Command`, который будут реализовывать все команды.
- Методы:
  - `execute(List<String> args): String` – выполнение команды с аргументами.

## Окружение

- Класс для управления переменными окружения (например, `Environment`).
- Методы:
  - `setVariable(String name, String value)`
  - `getVariable(String name): String`

## Вызов внешних программ

- Возможность запускать команды операционной системы через процессы.
- Методы:
  - `runExternalCommand(String command, List<String> args): Process`

## Логирование и обработка исключений

- Логирование для отладки и ведения журнала работы интерпретатора.
- Гибкая обработка ошибок для корректного сообщения о проблемах пользователю.

# Архитектурная диаграмма (приближение)

Диаграмма приведена в файле: [classes.puml](classes.puml)

# Словесное описание системы

CLI-интерпретатор работает следующим образом:

- Ввод пользователя обрабатывается через `CommandParser`, который разбирает строку, определяет команды, их аргументы и
  разбивает на пайплайны.
- Каждая команда представлена объектом, реализующим интерфейс `Command`, который вызывает метод `execute()`, передавая
  аргументы.
- Команды могут взаимодействовать с внешними программами через класс, ответственный за управление процессами.
- Система поддерживает окружение, переменные которого можно задавать и использовать в командах.
- Оператор пайплайна передает вывод одной команды на вход другой.
